/* --- START OF FILE style.css --- */

/* Grundlegende Reset und Theme-Variablen */
:root {
  --color-bg: #f7fafd;
  --color-card: #fff;
  --color-primary: #2060e0;
  --color-primary-hover: #1544aa;
  --color-text: #242d3c;
  --transition-speed: 0.23s;
  --modal-bg: rgba(31, 38, 46, 0.60);
  --shadow-card: 0 3.5px 24px rgba(26,42,83,0.15);
  --shadow-popup: 0 6px 32px 0 rgba(0,0,0,0.14), 0 1.5px 10px 0 rgba(0,0,0,0.08);
  --radius-main: 14px;
  --radius-button: 7px;
  --radius-input: 7px;
  --streak-gold: #FFD700;
  --streak-gray: #959cad;
}

/* Optional: Google Fonts importieren */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@700&display=swap');


* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', system-ui, Arial, sans-serif;
  background: var(--color-bg);
  color: var(--color-text);
  text-align: center; /* Default text alignment for body/main */
  min-height: 100vh;
  position: relative;
}

/* == Standard (PC) Layout == */
/* Elements are stacked blocks by default on PC, centered via margin: auto */
main {
  padding: 3.5rem 1rem 3rem 1rem;
  max-width: 900px; /* Maximale Breite für den Hauptinhalt auf PC */
  margin: 0 auto; /* Zentriert den Hauptinhalt */
  display: flex; /* Use flex to control vertical stacking easily */
  flex-direction: column;
  align-items: center; /* Center items horizontally */
  gap: 1.5rem; /* Consistent vertical spacing between main sections */
}

main h1[data-i18n="title"] { display: none; }

/* PC: Streak absolut positioniert */
#streak-container {
  position: absolute;
  top: 1rem;
  right: 1.5rem;
  z-index: 100;
  text-align: right;
  /* Remove flex/block/margin rules applied by main > * */
  display: block; /* Needs to be a block for width/text-align */
  margin: 0; /* Important to remove auto margins */
  align-self: auto; /* Reset align-items from parent flex */
}
#streak-container span[data-i18n="winStreak"] { display: none; }
#winningStreak { font-family: 'Poppins', 'Inter', sans-serif; font-weight: 700; font-size: 2.8rem; line-height: 1; color: var(--streak-gray); transition: color 0.3s ease, transform 0.15s ease-out, text-shadow 0.3s ease; display: inline-block; text-shadow: none; }
#streak-container.has-streak #winningStreak { color: var(--streak-gold); text-shadow: 0 0 8px rgba(255, 215, 0, 0.4); }
#winningStreak.streak-pulse { animation: pulseStreak 0.4s ease-out forwards; }
@keyframes pulseStreak { 0% { transform: scale(1); } 50% { transform: scale(1.35); text-shadow: 0 0 16px rgba(255, 215, 0, 0.7); } 100% { transform: scale(1); } }


/* PC: Toggle Switches Container (kept as flex) */
#toggle-switches-container {
    display: flex; /* Override the default block behavior from main flex */
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem 1rem;
    align-items: center;
    margin: 0 auto; /* Center the flex container itself */
    width: 100%; /* Allow container to shrink/grow */
    max-width: 700px; /* Max width for the toggles block */
    align-self: center; /* Ensure it's centered within main's cross axis */
}
/* Toggle label nowrap to prevent wrapping inside switch */
.toggle-switch .toggle-label { white-space: nowrap; }


/* PC: Timer & Language Select (stacked blocks) */
#timer-label,
#languageSelect {
    display: block; /* Stack them */
    margin: 0 auto; /* Center */
    width: 100%; /* Take full width up to max-width */
    max-width: 380px; /* Limit width */
    align-self: center; /* Center within main */
    text-align: left; /* Align text inside */
    padding: 0.6em 0.7em; /* Consistent padding */
    border-radius: var(--radius-input); /* Match input/select style */
    border: 1.2px solid #d2d3dc; /* Match style */
    background: #f9fbff; /* Match style */
    font-size: 1.0rem; /* Match style */
    color: #3b466d; /* Match timer label color */
    font-weight: 500; /* Match timer label weight */
}
/* Specific adjustments for timer-label's flex content */
#timer-label {
    display: flex; /* Keep label and select inline */
    justify-content: flex-start; /* Align contents left */
    align-items: center;
    gap: 0.35em;
    /* background/border/padding/font inherited from rule above */
}
#timer-label select {
    padding: 0; /* Remove padding from select if parent has it */
    border: none; /* Remove border from select if parent has it */
    background: none; /* Remove background from select */
    font-size: 1.0rem; /* Keep font size */
    color: inherit; /* Inherit color from parent */
    font-family: inherit;
    flex-grow: 1; /* Allow select to take available space */
    min-width: 0; /* Allow select to shrink */
    outline: none; /* Remove outline, parent label handles focus visual */
}
#timer-label select:focus {
    outline: none; /* Focus handled by parent label */
}
#timer-label:focus-within { /* Add focus style to the label wrapper */
     border: 1.2px solid var(--color-primary);
     outline: 2px solid #a8c5ff;
}

#languageSelect {
     /* background/border/padding/font inherited from rule above */
}


/* PC: Quiz Container (stacked block) */
#quiz {
    display: block; /* Make it a block */
    background: var(--color-card);
    padding: 2.4rem 2.1rem 2.3rem 2.1rem;
    border-radius: var(--radius-main);
    box-shadow: var(--shadow-card);
    min-width: 364px; /* Keep min-width */
    max-width: 400px; /* Keep max-width */
    transition: box-shadow var(--transition-speed);
    text-align: center; /* Center content inside */
    width: 100%; /* Take full width up to max-width */
    margin: 1.5rem auto; /* Center and add vertical space */
    align-self: center; /* Center within main */
}

/* Elements inside quiz (adjusting to quiz being a block) */
#flag-container {
  width: 340px; /* Feste Breite auf PC */
  max-width: 100%; /* Verhindert Überlaufen im Quiz-Container */
  height: 204px; /* Feste Höhe auf PC */
  aspect-ratio: unset; /* Kein festes Seitenverhältnis auf PC */
  margin: 0 auto 1.5rem auto; /* Center flag container */
  /* other styles remain */
}
#guessInput {
  display: block; /* Make input a block */
  margin: 0.4rem auto 0.45rem auto; /* Center input */
  font-size: 1.14rem;
  width: 90%; /* Take 90% of parent (#quiz) width */
  max-width: 350px; /* Absolute max width */
  padding: 0.65em 0.9em; /* Consistent padding */
  border-radius: var(--radius-input);
  border: 1.2px solid #d2d3dc;
  background: #f9fbff;
  outline: none;
  transition: border var(--transition-speed), outline var(--transition-speed), box-shadow var(--transition-speed);
  box-shadow: none;
}
#guessInput:focus {
    border: 1.2px solid var(--color-primary);
    outline: 2px solid #a8c5ff;
    box-shadow: 0 1px 3px rgba(32,96,255,0.1);
}

#quiz button {
    display: inline-block; /* Keep buttons inline */
    padding: 0.7rem 1.5rem;
    margin: 0.35rem;
    cursor: pointer;
    background: var(--color-primary);
    color: #fff;
    border: none;
    border-radius: var(--radius-button);
    font-weight: 600;
    font-size: 1.08rem;
    transition: background var(--transition-speed), box-shadow var(--transition-speed);
    box-shadow: 0 1.1px 4px 0 rgba(32,96,255,0.09);
    outline: none;
}
#quiz button:hover, #quiz button:focus { background: var(--color-primary-hover); box-shadow: 0 2.2px 10px 0 rgba(32,96,255,0.15); }
#result {
    display: block; /* Make result a block */
    margin: 0.6rem auto 0 auto; /* Center result text */
    min-height: 1.2rem;
    font-weight: bold;
    font-size: 1.09rem;
}


/* PC: Styling for #showFlagListBtn and #backToStartBtn (stacked blocks) */
#showFlagListBtn,
#backToStartBtn {
     display: block; /* Stack them */
     margin: 0.6rem auto; /* Center horizontally, add vertical space */
     width: 100%; /* Take full width up to max-width */
     max-width: 380px; /* Limit width */
     align-self: center; /* Center within main */
     padding: 0.8em 1.5em; /* Button padding */
     font-size: 1.03em; /* Button font size */
     font-weight: 600;
     border-radius: 7px;
     cursor: pointer;
     transition: background 0.16s, color 0.11s, box-shadow 0.16s;
     outline: none;
}
#showFlagListBtn {
    background: #e7eefd;
    color: #2040aa;
    border: 1.2px solid #d5def6;
}
#showFlagListBtn:hover, #showFlagListBtn:focus { background: #d3e0fd; color: #1544aa; box-shadow: 0 1px 4px rgba(68, 97, 165, 0.1); }

#backToStartBtn {
    background: #e8edfc;
    color: #1b3b8a;
    border: 1.2px solid #c5d4f0;
}
#backToStartBtn:hover, #backToStartBtn:focus { background: #dce6fa; color: var(--color-primary-hover); box-shadow: 0 1px 4px rgba(68, 97, 165, 0.1); }


/* == Modale etc. (unverändert) == */
.flag-list-modal { position: fixed; z-index: 11000; top: 0; left: 0; right: 0; bottom: 0; }
.flag-list-modal-backdrop { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: var(--modal-bg); cursor: pointer; }
.flag-list-modal-content { position: absolute; background: #fff; top: 50%; left: 50%; width: 99vw; max-width: 960px; max-height: 92vh; overflow-y: auto; border-radius: 18px; transform: translate(-50%, -50%); box-shadow: 0 8px 34px rgba(32,44,99,0.16); padding: 2.1rem 2rem 1.4rem 2rem; text-align: left; animation: modalIn .23s; font-size: 1.08rem; }
@media (max-width: 728px) { .flag-list-modal-content { padding: 1.2rem 0.6rem 0.7rem 0.7rem; width: 98vw; min-width: 0; font-size: 0.98rem; } #quiz { padding: 1.1rem 0.3rem 1.4rem 0.3rem;} } /* Quiz padding angepasst für Modale */
@keyframes modalIn { from { opacity: 0; transform: translate(-50%, -48%) scale(0.96);} to { opacity: 1; transform: translate(-50%, -50%) scale(1);} }
.close-flag-list { position: absolute; right: 1.3rem; top: 1.3rem; background: #f2f7fe; border: none; border-radius: 50%; width: 39px; height: 39px; font-size: 1.95em; color: #67739c; cursor: pointer; transition: background 0.16s; z-index: 2; display: flex; align-items: center; justify-content: center; font-weight: 700; }
.close-flag-list:hover { background: #d4e2ff; color: #203daf; }
.flag-list-continent { margin-bottom: 2.8em; }
.flag-list-continent h4 { margin-bottom: 0.38em; margin-top: 0.84em; color: var(--color-primary); font-size: 1.2em; font-weight: 700; }
.flag-list-entry { display: flex; align-items: center; gap: 0.65em; margin-bottom: 0.17em; transition: background 0.12s, box-shadow 0.12s; border-radius: 8px; cursor: pointer; padding: 0.17em 0.17em 0.17em 0.22em; min-height: 2.05em; }
.flag-list-entry:hover, .flag-list-entry:focus { background: #e4edfb; }
.flag-list-entry img { width: 34px; height: 22px; border-radius: 4px; border: 1.1px solid #dde9ff; object-fit: contain; background: #f4f8fc; box-shadow: 0 0.5px 2px 0 rgba(64,80,150,0.06); flex-shrink: 0; }
.flag-list-entry span.flag-list-no-svg-placeholder { width: 34px; height: 22px; display: inline-flex; align-items: center; justify-content: center; font-size: 0.8em; color: #aaa; background: #eee; border-radius: 4px; border: 1.1px solid #dde9ff; flex-shrink: 0; }
.flag-list-countryname { font-weight: 500; font-size: 1.07em; max-width: calc(100% - 45px); overflow-x: auto; scrollbar-width: none; text-overflow: ellipsis; white-space: nowrap; }
.flag-list-countryname-sub { color: #859bbe; font-size: 0.96em; margin-left: 0.23em; font-weight: 400; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }
.flag-hover-popup.info-redesign { position: fixed; z-index: 12000; padding: 1.2em 1.38em 1.09em 1.3em; display: flex; flex-direction: row; flex-wrap: nowrap; align-items: flex-start; background: #fff; border-radius: 18px; box-shadow: 0 7px 32px 0 rgba(20,44,105,0.19), 0 1.5px 10px 0 rgba(0,0,0,0.10); border: 1.5px solid #e5eeff; min-width: 250px; max-width: 530px; font-size: 1.065rem; gap: 1.15em; pointer-events: none; }
.flag-hover-popup.info-redesign .flag-hover-img img { border-radius: 12px; box-shadow: 0 2.5px 10px rgba(48,98,180,0.10); width: 160px; height: 101px; object-fit: contain; background: #f1f6fd; margin-right: 0.5em; max-width: 180px; max-height: 112px; border: 1.2px solid #e7ecf7; }
.flag-hover-popup.info-redesign .flag-hover-meta { min-width: 124px; max-width: 260px; display: flex; flex-direction: column; gap: 0.38em; align-items: flex-start; }
.flag-hover-popup.info-redesign .flag-detail-row { margin-bottom: 0.05em; padding: 0.07em 0 0.06em 0; font-size: 1.06em; display: flex; flex-wrap: wrap; align-items: center; width: 100%; }
.flag-hover-popup.info-redesign .flag-detail-row b { font-size: 1.17em; font-weight: 700; color: #1d47a8; letter-spacing: 0.01em; display: inline-block; margin-bottom: 0.06em; margin-top: 0.04em; word-break: break-word; max-width: 100%; }
.flag-hover-popup.info-redesign .flag-detail-label { color: #3f5b88; font-weight: 500; min-width: 80px; margin-right: 0.41em; display: inline-block; flex-shrink: 0; }
.flag-hover-popup.info-redesign .flag-detail-row span:not(.flag-detail-label):not(b) { color: #152640; font-weight: 450; letter-spacing: 0.01em; word-break: break-word; }
@media (max-width: 728px) { .flag-hover-popup.info-redesign { max-width: 97vw; padding: 0.6em 0.4em 0.7em 0.6em; } .flag-hover-popup.info-redesign .flag-hover-img img { width: 96px; height: auto; max-height: 70px; } .flag-hover-popup.info-redesign .flag-hover-meta { max-width: calc(97vw - 110px); } }
@media (max-width: 430px) { .flag-hover-popup.info-redesign .flag-hover-img img { width: 68px; height: auto; max-height: 50px;} .flag-hover-popup.info-redesign { padding: 0.34em 0.2em 0.44em 0.22em; font-size: 0.95em;} .flag-hover-popup.info-redesign .flag-hover-meta { max-width: calc(97vw - 80px); } }


/* == Start Screen (unverändert) == */
#start-screen { position: fixed; z-index: 12001; inset: 0; background: linear-gradient(135deg, #e3eeff 0%, #e8f1fe 50%, #f9fafd 100%); display: flex; align-items: center; justify-content: center; min-height: 100vh; min-width: 100vw; transition: opacity .25s; }
#start-screen.hide { opacity: 0; pointer-events: none; }
.start-content { background: #fff; border-radius: 24px; box-shadow: 0 12px 48px 0 rgba(24,54,115,0.12), 0 2px 12px 0 rgba(64,92,184,0.12); padding: 3.4rem 2.8rem 2.9rem 2.8rem; max-width: 660px; width: calc(98vw - 14px); min-width: 242px; text-align: center; display: flex; flex-direction: column; gap: 2.8rem; transition: transform 0.2s, box-shadow 0.18s; border: 1.5px solid #edf3ff; }
#start-title { font-size: 2.65rem; font-weight: 700; color: var(--color-primary-hover); margin-bottom: 0; letter-spacing: -0.027em; }
.start-step h2 { font-size: 1.45rem; color: #10285d; font-weight: 700; margin-bottom: 1.4rem; margin-top: .1em; letter-spacing: -0.02em; }
.lang-select-buttons { display: grid; gap: 1.3rem; grid-template-columns: repeat(2, minmax(140px, 1fr)); justify-content: center; align-items: center; margin: 0 auto; max-width: 460px; }
.mode-select-buttons { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 0.9rem; margin: 0 auto; width: 100%; max-width: 580px; }
.lang-select-btn { font-family: inherit; font-size: 1.2rem; padding: 0.82em 0.5em; border: none; border-radius: 14px; background: #eef5ff; color: #183a71; font-weight: 600; box-shadow: 0 1px 8px 0 rgba(61,92,222,0.08); transition: all 0.14s ease-out; cursor: pointer; }
.lang-select-btn:hover, .lang-select-btn.active { background: var(--color-primary); color: #fff; transform: translateY(-1px); box-shadow: 0 4px 12px 0 rgba(20,32,145,0.15); }
.mode-select-btn { font-family: inherit; font-size: 1.08rem; padding: 0.89em 1.2em; border: none; border-radius: 13px; background: #f1f6ff; color: #19335C; font-weight: 600; display: flex; align-items: center; gap: 0.7em; justify-content: flex-start; box-shadow: 0 1px 7px 0 rgba(36,74,132,0.07); transition: all 0.14s ease-out; cursor: pointer; position: relative; overflow: hidden; }
.mode-select-btn:hover, .mode-select-btn.active { background: var(--color-primary); color: #fff; transform: translateY(-1px); box-shadow: 0 4px 14px 0 rgba(20,32,145,0.15); }
.mode-select-btn .continent-abbr { font-weight: 700; font-size: 0.92em; background: #e2ebff; color: var(--color-primary); padding: 0.25em 0.5em; border-radius: 6px; transition: all 0.14s ease-out; flex-shrink: 0; }
.mode-select-btn:hover .continent-abbr, .mode-select-btn.active .continent-abbr { background: rgba(255,255,255,0.18); color: #fff; }
@media (max-width: 600px) { .start-content { padding: 2.2rem 1.4rem 1.8rem; gap: 2.2rem; } #start-title { font-size: 2.2rem; } .start-step h2 { font-size: 1.3rem; margin-bottom: 1.2rem; } .mode-select-buttons { grid-template-columns: 1fr; gap: 0.7rem; } .mode-select-btn { padding: 0.75em 1em; font-size: 1.02rem; } .lang-select-buttons { gap: 0.9rem; } .lang-select-btn { font-size: 1.1rem; padding: 0.7em 0.4em; } }
.back-btn-secondary { background: #e8edfc; color: #1b3b8a; border: 1.2px solid #c5d4f0; font-size: 1.0em; border-radius: 7px; font-weight: 600; padding: 0.48em 1.2em; transition: background 0.16s, color 0.11s, box-shadow 0.16s; cursor: pointer; margin: 0 auto; display: inline-block; box-shadow: none; }
.back-btn-secondary:hover, .back-btn-secondary:focus { background: #dce6fa; color: var(--color-primary-hover); box-shadow: 0 1px 4px rgba(68, 97, 165, 0.1); }


/* ====================================== */
/* === ANDROID-SPEZIFISCHE ANPASSUNGEN === */
/* ====================================== */

body.platform-android main {
    display: flex;
    flex-direction: column;
    align-items: center; /* Zentriert alle direkten Kinder horizontal */
    padding: 1.5rem 0.5rem 2rem 0.5rem;
    gap: 1.5rem; /* Vertikaler Abstand zwischen den Hauptblöcken */
}

/* Definiere die Breite für die meisten Elemente auf Android */
body.platform-android #toggle-switches-container,
body.platform-android #timer-label,
body.platform-android #languageSelect,
body.platform-android #showFlagListBtn,
body.platform-android #backToStartBtn,
body.platform-android #quiz {
    width: 100%; /* Volle Breite nutzen */
    max-width: 450px; /* Maximale Breite für Lesbarkeit */
    margin-left: auto; /* Stellt Zentrierung sicher, falls max-width greift */
    margin-right: auto;
}

/* Reihenfolge der Elemente in main auf Android */
body.platform-android #toggle-switches-container { order: 0; }
body.platform-android #timer-label { order: 1; }
body.platform-android #quiz { order: 2; }
body.platform-android #streak-container { order: 3; }
body.platform-android #showFlagListBtn { order: 4; margin-top: 0; /* Entferne Standard-Margin */ }
/* Leerraum wird durch main gap geregelt */
body.platform-android #languageSelect { order: 5; }
body.platform-android #backToStartBtn { order: 6; }

/* Spezifisches Styling für Elemente auf Android */

body.platform-android #toggle-switches-container {
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* Linksbündig innen */
    gap: 0.8rem;
    margin-bottom: 0; /* Abstand durch main gap */
}
body.platform-android .toggle-switch {
    width: 100%;
    justify-content: flex-start;
}

body.platform-android #timer-label {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    text-align: left;
    margin-bottom: 0;
    padding: 0.6em 0.7em; /* Match other inputs/selects */
    border-radius: var(--radius-input);
    border: 1.2px solid #d2d3dc;
    background: #f9fbff;
    font-size: 1.0rem;
    color: #3b466d;
    font-weight: 500;
}
body.platform-android #timer-label span {
    /* Default font size */
}
body.platform-android #timer-label select {
    padding: 0.45rem 0.7rem; /* Specific padding for select */
    border: none; /* Remove border from select */
    background: none; /* Remove background from select */
    font-size: 1.0rem; /* Keep font size */
    color: inherit; /* Inherit color from parent */
    font-family: inherit;
    flex-grow: 1; /* Allow select to take available space */
    min-width: 0; /* Allow select to shrink */
    outline: none;
}
body.platform-android #timer-label:focus-within { /* Add focus style to the label wrapper */
     border: 1.2px solid var(--color-primary);
     outline: 2px solid #a8c5ff;
}


body.platform-android #languageSelect {
    text-align: left;
    margin-bottom: 0;
    padding: 0.6em 0.7em; /* Match other inputs/selects */
    border-radius: var(--radius-input);
    border: 1.2px solid #d2d3dc;
    background: #f9fbff;
    font-size: 1.0rem;
    color: #3b466d;
    font-weight: 500;
}


body.platform-android #quiz {
    padding: 1.5rem 1rem;
    min-width: 0;
    margin-bottom: 0;
    /* max-width, box-shadow, border-radius etc from general quiz rule */
}
body.platform-android #quiz #guessInput {
     padding: 0.65em 0.9em; /* Match desktop input padding */
     /* width, max-width, margin etc from general guessInput rule */
}


body.platform-android #flag-container {
    height: auto;
    aspect-ratio: 5 / 3;
    max-height: 220px;
    width: 100%;
    max-width: 100%; /* Ensure it fits within quiz padding */
    margin: 0 auto 1.5rem auto; /* Center flag */
}

body.platform-android #streak-container {
     position: static; /* Remove absolute positioning */
     width: auto;
     text-align: center;
     margin-top: 0; /* Space handled by main gap */
     margin-bottom: 0;
     display: block;
     font-size: 2.5rem; /* Etwas kleiner */
     align-self: center; /* Center within main flex */
     /* background/border/padding? None needed here. */
}

/* Buttons on Android full width */
body.platform-android #showFlagListBtn,
body.platform-android #backToStartBtn {
     display: block;
     width: 100%;
     margin: 0; /* No extra Margins - gap in main handles spacing */
     padding: 0.8em 1.5em; /* Match desktop button padding */
     text-align: center; /* Center text within button */
     /* font-size, font-weight, border-radius etc from desktop rules */
}


/* --- ENDE ANDROID-SPEZIFISCHE ANPASSUNGEN --- */

/* --- END OF FILE style.css --- */
